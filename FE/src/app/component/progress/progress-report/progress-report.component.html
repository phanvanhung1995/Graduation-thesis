<div class="row container-fluid ">
  <h2 style="color: #14a2b8; margin-top: 1%; display: flex; justify-content: center">BÁO CÁO TIẾN ĐỘ</h2>
</div>
<div class="container bd-shadown">
  <br>
  <div style="margin: 2%">
    <form [formGroup]="progressReportForm" (ngSubmit)="save()" >
      <div class="row-input-project" ><input hidden style="font-size: x-large" formControlName="project"></div>
      <div class="row topic-name form-group" style="margin-bottom: 4%; margin-top: 1%">
        <div class="col-md-2 "><span><img style="width: 20%; height: 90%;"
                                          src="../../../../assets/img/progress_report_icon_img/book_icon.png"
                                          alt=""></span><span>Tên đề tài</span>
        </div>
        <div class="col-md-10 "><p  style="font-size: x-large">{{projectName}}</p></div>
      </div>
      <div class="row stage-process" style="margin-bottom: 4%">
        <div class="col-md-2 "><span><img style="width:20%; height: 80%"
                                          src="../../../../assets/img/progress_report_icon_img/wave_icon.png"
                                          alt=""></span><span >{{stageName}}</span><input hidden formControlName="stage">
        </div>
        <div class="col-md-10 ">
          <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
               [style.backgroundColor]="backgroundColor">
            <div *ngIf="maxStagePercent" class="progress" style="display: flex ; justify-content: center; text-align:center; color: aliceblue"
                 [style]="{
  backgroundColor: progressColor,
  width: progress + '%'}" aria-valuemin="0" aria-valuemax="100"><span style="margin-top: 10px">{{maxStagePercent}}
              %</span>
            </div>
            <div *ngIf="!maxStagePercent" class="progress" style="display: flex ; justify-content: center; text-align:center; color: aliceblue"
                 [style]="{
  backgroundColor: progressColor,
  width: 0 + '%'}" aria-valuemin="0" aria-valuemax="100"><span  style="margin-top: 10px">0
              %</span>
            </div>
          </div>
        </div>
      </div>
      <div class="row file-report form-group" style="margin-bottom: 4%">
        <div class="col-md-2 "><span><img style="width: 25%; height: 100%"
                                          src="../../../../assets/img/progress_report_icon_img/file_icon.png"
                                          alt=""></span><span>File báo cáo(<span style="color: red">*</span><span>)</span></span>
        </div>
        <div class="col-md-10">
          <div class="row">
            <div class="col-md-5">

              <input class="form-control btn-outline" type="file" #uploadFile formControlName="progressReportFile"
                     (change)="uploadFileImg()" >
              <span style="color: red"
                    *ngIf="progressReportForm.controls.progressReportFile?.touched && progressReportForm.controls.progressReportFile?.errors?.required">Chưa chọn file !</span>

            </div>

            <div class="col-md-3"><input class="form-control btn-outline" type="text"
                                         placeholder="Nhập tên file báo cáo"  formControlName="progressReportFileName">
              <span style="color: red"
                    *ngIf="progressReportForm.controls.progressReportFileName?.touched && progressReportForm.controls.progressReportFileName?.errors?.required">Chưa nhập tên file !</span>

            </div>
            <div class="col-md-4">
              <a
                routerLink="/progress/history/{{projectId}}/{{stageId}}" style="text-decoration: none">
                <button class="btn btn-outline-info btn-block mx-auto" type="button "
                >Xem lịch sử
                </button>
              </a>
            </div>
          </div>

        </div>
      </div>
      <div class="row-dateTime"><input type="hidden" formControlName="progressReportTime" style="margin-bottom: 0%">
      </div>
      <div class="row content" style="margin-bottom: 3%">
        <div class="col-md-2 "><span><img style="width: 20%; height: 30%"
                                          src="../../../../assets/img/progress_report_icon_img/content_icon.png"
                                          alt=""></span><span>Nội dung(<span
          style="color: red">*</span><span>)</span></span>
        </div>
        <div class="col-md-10 ">
          <div class="content-area">
                <textarea class="form-control btn-outline" id="" style="width: 100%" rows="7"  formControlName="progressReportContent"
                          placeholder="Nội dung báo cáo..."></textarea>
            <span style="color: red"
                  *ngIf="progressReportForm.controls.progressReportContent?.touched && progressReportForm.controls.progressReportContent?.errors?.required">Chưa nhập nội dung báo cáo !</span>
          </div>
        </div>
      </div>
      <div class="row action-button" >
        <div class="col-md-3"></div>
        <div class="col-md-8">
          <div class="row" style="margin-bottom: 5%">
            <div class="col-md-4"></div>
            <div class="col-md-2">
              <a routerLink="/progress/progress-detail/{{projectId}}" style=" text-decoration: none">
                <button type="button" class="btn btn-outline-info btn-block mx-auto"
                        style="border-radius: 15px; width: 89%;color: #100e0e">Thoát
                </button>
              </a>
            </div>
            <div class="col-md-2">
              <button class="btn btn-outline-info btn-block mx-auto" [disabled]="showMessage && fileNameValue && contentValue"
                      style="border-radius: 15px; width: 89%;color: #100e0e">
                Gửi
              </button>
            </div>
            <div class="col-md-4"></div>
          </div>
        </div>
        <div class="col-md-1"></div>
      </div>
    </form>
  </div>
</div >
